webpackHotUpdate(0,{

/***/ 69:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(5);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(6);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _EventTypes = __webpack_require__(45);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Basket = function () {\n  function Basket() {\n    (0, _classCallCheck3.default)(this, Basket);\n  }\n\n  (0, _createClass3.default)(Basket, [{\n    key: 'start',\n    value: function start(pixiApp) {\n      this.visible = false;\n      this.middleSceneX = pixiApp.renderer.width / (2 * pixiApp.renderer.resolution);\n      this.x = this.middleSceneX;\n      this.y = 70;\n\n      this.graphics = new PIXI.Graphics();\n      this.createPoints(pixiApp);\n      this.createImage();\n      pixiApp.stage.addChild(this.graphics);\n      pixiApp.stage.addChild(this.basketImage);\n\n      this.initializeEvents();\n      this.createTimeline();\n    }\n  }, {\n    key: 'initializeEvents',\n    value: function initializeEvents() {\n      var bindedOnPieceMove = this.onPieceMove.bind(this);\n\n      window.addEventListener(_EventTypes.PIECE_MOVE, bindedOnPieceMove);\n    }\n  }, {\n    key: 'createPoints',\n    value: function createPoints() {\n      var _this = this;\n\n      this.curves = [{ x: 0, y: 0 }, { x: 0.17, y: 0 }, { x: 0.33, y: 1.02 }, { x: 0.50, y: 1 }, { x: 0.66, y: 1.02 }, { x: 0.82, y: 0 }, { x: 1, y: 0 }];\n      this.points = [];\n      var amplitude = 100;\n\n      this.curves.forEach(function (c) {\n        _this.points.push({\n          x: _this.middleSceneX + c.x * 400 - 200,\n          y: c.y * amplitude,\n          startY: c.y * amplitude\n        });\n      });\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      this.basketImage = PIXI.Sprite.fromImage(__webpack_require__(193));\n      this.basketImage.x = this.middleSceneX - 12;\n      this.basketImage.y = 30;\n      this.basketImage.alpha = 0;\n    }\n  }, {\n    key: 'createTimeline',\n    value: function createTimeline() {\n      var _this2 = this;\n\n      var completeCallback = function completeCallback() {\n        _this2.visible = !_this2.visible;\n      };\n      this.showTimeline = new TimelineMax({\n        paused: true,\n        onComplete: completeCallback,\n        onReverseComplete: completeCallback\n      });\n      this.points.forEach(function (p) {\n        _this2.showTimeline.fromTo(p, 1, {\n          y: 0\n        }, {\n          y: p.y,\n          ease: Elastic.easeOut.config(1, 0.3)\n        }, 0);\n      });\n      this.showTimeline.fromTo(this.basketImage, 0.2, {\n        alpha: 0\n      }, {\n        alpha: 1\n      }, 0.1);\n    }\n  }, {\n    key: 'onPieceMove',\n    value: function onPieceMove(e) {\n      var touch = e.detail.touch;\n      var distance = Math.sqrt(Math.pow(this.x - touch.x, 2) + Math.pow(this.y - touch.y, 2));\n\n      if (distance < 300) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      if (this.visible || this.showTimeline.isActive() && !this.visible) return;\n      this.showTimeline.play();\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      if (!this.visible || this.showTimeline.isActive() && this.visible) return;\n      this.showTimeline.reverse();\n    }\n  }, {\n    key: 'update',\n    value: function update() {}\n  }, {\n    key: 'render',\n    value: function render() {\n      this.graphics.clear();\n\n      this.graphics.beginFill(0x242A2E);\n      this.graphics.moveTo(this.points[0].x, this.points[0].y);\n\n      this.graphics.bezierCurveTo(this.points[1].x, this.points[1].y, this.points[2].x, this.points[2].y, this.points[3].x, this.points[3].y);\n      this.graphics.bezierCurveTo(this.points[4].x, this.points[4].y, this.points[5].x, this.points[5].y, this.points[6].x, this.points[6].y);\n\n      this.graphics.endFill();\n    }\n  }]);\n  return Basket;\n}();\n\nexports.default = new Basket();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY2xpZW50L3NjcmlwdHMvZWxlbWVudHMvQmFza2V0LmpzPzEzZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgUElFQ0VfTU9WRVxufSBmcm9tICcuLi91dGlscy9FdmVudFR5cGVzJ1xuXG5jbGFzcyBCYXNrZXQge1xuICBzdGFydCAocGl4aUFwcCkge1xuICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlXG4gICAgdGhpcy5taWRkbGVTY2VuZVggPSBwaXhpQXBwLnJlbmRlcmVyLndpZHRoIC8gKDIgKiBwaXhpQXBwLnJlbmRlcmVyLnJlc29sdXRpb24pXG4gICAgdGhpcy54ID0gdGhpcy5taWRkbGVTY2VuZVhcbiAgICB0aGlzLnkgPSA3MFxuXG4gICAgdGhpcy5ncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICB0aGlzLmNyZWF0ZVBvaW50cyhwaXhpQXBwKVxuICAgIHRoaXMuY3JlYXRlSW1hZ2UoKVxuICAgIHBpeGlBcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5ncmFwaGljcylcbiAgICBwaXhpQXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuYmFza2V0SW1hZ2UpXG5cbiAgICB0aGlzLmluaXRpYWxpemVFdmVudHMoKVxuICAgIHRoaXMuY3JlYXRlVGltZWxpbmUoKVxuICB9XG5cbiAgaW5pdGlhbGl6ZUV2ZW50cyAoKSB7XG4gICAgY29uc3QgYmluZGVkT25QaWVjZU1vdmUgPSB0aGlzLm9uUGllY2VNb3ZlLmJpbmQodGhpcylcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFBJRUNFX01PVkUsIGJpbmRlZE9uUGllY2VNb3ZlKVxuICB9XG5cbiAgY3JlYXRlUG9pbnRzICgpIHtcbiAgICB0aGlzLmN1cnZlcyA9IFtcbiAgICAgIHt4OiAwLCB5OiAwfSxcbiAgICAgIHt4OiAwLjE3LCB5OiAwfSxcbiAgICAgIHt4OiAwLjMzLCB5OiAxLjAyfSxcbiAgICAgIHt4OiAwLjUwLCB5OiAxfSxcbiAgICAgIHt4OiAwLjY2LCB5OiAxLjAyfSxcbiAgICAgIHt4OiAwLjgyLCB5OiAwfSxcbiAgICAgIHt4OiAxLCB5OiAwfVxuICAgIF1cbiAgICB0aGlzLnBvaW50cyA9IFtdXG4gICAgbGV0IGFtcGxpdHVkZSA9IDEwMFxuXG4gICAgdGhpcy5jdXJ2ZXMuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgdGhpcy5wb2ludHMucHVzaCh7XG4gICAgICAgIHg6IHRoaXMubWlkZGxlU2NlbmVYICsgYy54ICogNDAwIC0gMjAwLFxuICAgICAgICB5OiBjLnkgKiBhbXBsaXR1ZGUsXG4gICAgICAgIHN0YXJ0WTogYy55ICogYW1wbGl0dWRlXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBjcmVhdGVJbWFnZSAoKSB7XG4gICAgdGhpcy5iYXNrZXRJbWFnZSA9IFBJWEkuU3ByaXRlLmZyb21JbWFnZShyZXF1aXJlKCcuLi8uLi9pbWcvZGVsZXRlLnBuZycpKVxuICAgIHRoaXMuYmFza2V0SW1hZ2UueCA9IHRoaXMubWlkZGxlU2NlbmVYIC0gMTJcbiAgICB0aGlzLmJhc2tldEltYWdlLnkgPSAzMFxuICAgIHRoaXMuYmFza2V0SW1hZ2UuYWxwaGEgPSAwXG4gIH1cblxuICBjcmVhdGVUaW1lbGluZSAoKSB7XG4gICAgY29uc3QgY29tcGxldGVDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgIHRoaXMudmlzaWJsZSA9ICF0aGlzLnZpc2libGVcbiAgICB9XG4gICAgdGhpcy5zaG93VGltZWxpbmUgPSBuZXcgVGltZWxpbmVNYXgoe1xuICAgICAgcGF1c2VkOiB0cnVlLFxuICAgICAgb25Db21wbGV0ZTogY29tcGxldGVDYWxsYmFjayxcbiAgICAgIG9uUmV2ZXJzZUNvbXBsZXRlOiBjb21wbGV0ZUNhbGxiYWNrXG4gICAgfSlcbiAgICB0aGlzLnBvaW50cy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICB0aGlzLnNob3dUaW1lbGluZS5mcm9tVG8ocCwgMSwge1xuICAgICAgICB5OiAwXG4gICAgICB9LCB7XG4gICAgICAgIHk6IHAueSxcbiAgICAgICAgZWFzZTogRWxhc3RpYy5lYXNlT3V0LmNvbmZpZygxLCAwLjMpXG4gICAgICB9LCAwKVxuICAgIH0pXG4gICAgdGhpcy5zaG93VGltZWxpbmUuZnJvbVRvKHRoaXMuYmFza2V0SW1hZ2UsIDAuMiwge1xuICAgICAgYWxwaGE6IDBcbiAgICB9LCB7XG4gICAgICBhbHBoYTogMVxuICAgIH0sIDAuMSlcbiAgfVxuXG4gIG9uUGllY2VNb3ZlIChlKSB7XG4gICAgY29uc3QgdG91Y2ggPSBlLmRldGFpbC50b3VjaFxuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMueCAtIHRvdWNoLngsIDIpICsgTWF0aC5wb3codGhpcy55IC0gdG91Y2gueSwgMikpXG5cbiAgICBpZiAoZGlzdGFuY2UgPCAzMDApIHtcbiAgICAgIHRoaXMuc2hvdygpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGlkZSgpXG4gICAgfVxuICB9XG5cbiAgc2hvdyAoKSB7XG4gICAgaWYgKHRoaXMudmlzaWJsZSB8fCAodGhpcy5zaG93VGltZWxpbmUuaXNBY3RpdmUoKSAmJiAhdGhpcy52aXNpYmxlKSkgcmV0dXJuXG4gICAgdGhpcy5zaG93VGltZWxpbmUucGxheSgpXG4gIH1cblxuICBoaWRlICgpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCAodGhpcy5zaG93VGltZWxpbmUuaXNBY3RpdmUoKSAmJiB0aGlzLnZpc2libGUpKSByZXR1cm5cbiAgICB0aGlzLnNob3dUaW1lbGluZS5yZXZlcnNlKClcbiAgfVxuXG4gIHVwZGF0ZSAoKSB7fVxuXG4gIHJlbmRlciAoKSB7XG4gICAgdGhpcy5ncmFwaGljcy5jbGVhcigpXG5cbiAgICB0aGlzLmdyYXBoaWNzLmJlZ2luRmlsbCgweDI0MkEyRSlcbiAgICB0aGlzLmdyYXBoaWNzLm1vdmVUbyh0aGlzLnBvaW50c1swXS54LCB0aGlzLnBvaW50c1swXS55KVxuXG4gICAgdGhpcy5ncmFwaGljcy5iZXppZXJDdXJ2ZVRvKHRoaXMucG9pbnRzWzFdLngsIHRoaXMucG9pbnRzWzFdLnksIHRoaXMucG9pbnRzWzJdLngsIHRoaXMucG9pbnRzWzJdLnksIHRoaXMucG9pbnRzWzNdLngsIHRoaXMucG9pbnRzWzNdLnkpXG4gICAgdGhpcy5ncmFwaGljcy5iZXppZXJDdXJ2ZVRvKHRoaXMucG9pbnRzWzRdLngsIHRoaXMucG9pbnRzWzRdLnksIHRoaXMucG9pbnRzWzVdLngsIHRoaXMucG9pbnRzWzVdLnksIHRoaXMucG9pbnRzWzZdLngsIHRoaXMucG9pbnRzWzZdLnkpXG5cbiAgICB0aGlzLmdyYXBoaWNzLmVuZEZpbGwoKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBCYXNrZXQoKVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNsaWVudC9zY3JpcHRzL2VsZW1lbnRzL0Jhc2tldC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFHQTs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFEQTtBQUdBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ })

})